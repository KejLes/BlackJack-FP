import java.util.Scanner;

public class Jugador {
    
    private Mano manoJugador;
    private int dinero;
    private String nombre;

    public Jugador(String nombre, int dinero) {
        this.nombre = nombre;
        this.dinero = dinero;
        this.manoJugador = new Mano();
    }
    
    public Jugador() {
        this("Jugador", 5000);
    }

    public Mano getMano() {
        return this.manoJugador;
    }

    public int getDinero() {
        return this.dinero;
    }
    
    public String getNombre() {
        return this.nombre;
    }

    public boolean apostar(int cantidad) {
        if (cantidad > 0 && cantidad <= this.dinero) {
            this.dinero -= cantidad;
            return true;
        }
        return false;
    }

    public void recibirGanancia(int cantidad) {
        if (cantidad > 0) {
            this.dinero += cantidad;
        }
    }

    public void reiniciarMano() {
        this.manoJugador = new Mano();
    }
    
    public String decidirJugada(Scanner sc) {
        boolean doblePermitido = this.manoJugador.getCartas().size() == 2;

        while (true) {
            System.out.print("¿Qué desea hacer? (H)it, (S)tand");
            if (doblePermitido) {
                System.out.print(", (D)ouble down");
            }
            System.out.print(" > ");
            
            String eleccion = sc.nextLine().toUpperCase().trim();
            
            if (eleccion.equals("H") || eleccion.equals("S")) {
                return eleccion;
            } else if (eleccion.equals("D")) {
                if (doblePermitido) {
                    return "D";
                } else {
                    System.out.println("No puedes duplicar ahora (solo se permite en el primer turno).");
                }
            } else {
                System.out.println("Opción no válida. Por favor elija H, S o D.");
            }
        }
    }
}
